# ๐ง Otziv WhatsApp Message Sender

Spring Boot-ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะน ัะฐัััะปะบะธ ัะพะพะฑัะตะฝะธะน ะฒ WhatsApp ั ะบัะพัั-ะบะปะธะตะฝัะฝะพะน ัะฝะธะบะฐะปะธะทะฐัะธะตะน ะธ ะปะพะณะธัะพะฒะฐะฝะธะตะผ, ะพะฑััะฝััะพะต ะฒ Docker.

---

## ๐ ะัะฝะพะฒะฝัะต ัะธัะธ

- ๐ค ะะฐัััะปะบะฐ ัะพะพะฑัะตะฝะธะน ะฟะพ ะปะธะดะฐะผ ะธะท ะฑะฐะทั ะดะฐะฝะฝัั
- ๐ ะะพะฒัะพัะฝะฐั ะพัะฟัะฐะฒะบะฐ ะฟัะธ ะพัะธะฑะบะต, ะปะธะผะธัั ะฒ ะดะตะฝั
- ๐ฌ ะะตะฝะตัะฐัะธั ัะฝะธะบะฐะปัะฝะพะณะพ ัะตะบััะฐ:
  - ัะธะฝะพะฝะธะผั + ัะฐะฝะดะพะผะฝัะต ัะผะพะดะทะธ
  - ะฟัะตะฒะดะพ-ะพะฟะตัะฐัะบะธ
  - ะผะฐัะบะตัั ะทะฐะฒะตััะตะฝะธั
- ๐ง ะะฝัะธัะฟะฐะผ: ะบะพะฝััะพะปั ะฟะพะฒัะพัะพะฒ ัะตัะตะท `SHA-1` ัััะธ
- ๐ ะฅััะธ ัะพะพะฑัะตะฝะธะน ัะพััะฐะฝััััั ะฒ `sent-hashes.txt`
- ๐งน ะกัะฐััะต ัััะธ ะพัะธัะฐัััั (ััะฐััะต 30 ะดะฝะตะน)
- ๐ ะะฒัะพะพัััั ะฟะพ ะทะฐะฒะตััะตะฝะธั

---

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ docker-compose.yml
โโโ Dockerfile
โโโ src/
โโโ docker/
โ   โโโ sent-hashes/         # ๐ง ะะฑัะธะน ัะฐะนะป ัััะตะน
โ
โโโ data/
โ   โโโ app-logs/            # ๐ชต ะะพะณะธ ะฟัะธะปะพะถะตะฝะธั
โ   โโโ mysql_backup/        # ๐ฆ ะัะบะฐะฟั ะะ
โ   โโโ bots/                # โ๏ธ ะะฐะฝะฝัะต MySQL
โ   โโโ nginx/               # ๐ ะะพะฝัะธะณะธ nginx
```

---

## ๐งช ะะฐะฟััะบ

1. ะกะพะฑะตัะธ ะฟัะธะปะพะถะตะฝะธะต:

```bash
mvn clean package -DskipTests
```

2. ะะฐะฟัััะธ ะบะพะฝัะตะนะฝะตั:

```bash
docker-compose up -d --build
```

3. ะัะพะฒะตัั, ััะพ `sent-hashes.txt` ัะพะทะดะฐัััั:

```bash
cat ./docker/sent-hashes/sent-hashes.txt
```

---

## โ๏ธ ะะปััะตะฒัะต ะฝะฐัััะพะนะบะธ

### ๐ `PersistentSentHashes.java`

- ะฅััะธััะตััั ะบะฐะถะดะพะต ัะพะพะฑัะตะฝะธะต ะฟะตัะตะด ะพัะฟัะฐะฒะบะพะน
- ะัะพะฒะตััะตััั ะฒ `sent-hashes.txt` โ ะตัะปะธ ัะถะต ะตััั, ะณะตะฝะตัะธััะตััั ะทะฐะฝะพะฒะพ
- ะกััะพะบะฐ ัะพัะผะฐัะฐ:
  ```
  47de4c0ae7cf95ff7cf3b6c993e5a...:2025-05-25T14:22:03
  ```

### ๐ `MessageHumanizer.java`

- ะัะฟะพะปัะทัะตั:
  - `synonyms` โ ัะปะพะฒะฐัั ะทะฐะผะตะฝ
  - `emojis` โ ัะฟะธัะพะบ ัะผะพะดะทะธ
  - `markers` โ ะทะฐะฒะตััะตะฝะธั
  - `typoMap` โ ะบะฐััะฐ ะฟัะตะฒะดะพ-ะพะฟะตัะฐัะพะบ

### ๐ `docker-compose.yml`

- ะะฐะฟะบะฐ `./docker/sent-hashes` ะผะพะฝัะธััะตััั ะฒ `/app/sent-hashes`
- ะะพะดะดะตัะถะธะฒะฐะตั ะฟัะพัะผะพัั ะปะพะณะพะฒ ัะตัะตะท `log-viewer`

---

## ๐ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะกะผะพััะธ `.env`:

```env
MYSQL_ROOT_PASSWORD=...
TELEGRAM_BOT_TOKEN_LOCAL_DOCKER=...
MAIL_USERNAME=...
...
```

---

## ๐งผ ะะฒัะพะพัะธััะบะฐ

ะัะธ ะทะฐะฟััะบะต ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ:

- ะัะต ัััะธ ััะฐััะต 30 ะดะฝะตะน ัะดะฐะปััััั
- ะคะฐะนะป `sent-hashes.txt` ะฟะตัะตะทะฐะฟะธััะฒะฐะตััั

---

## โ ะะตะทัะปััะฐั

- โ ะะธะบะฐะบะธะต ัะพะพะฑัะตะฝะธั ะฝะต ะดัะฑะปะธัััััั
- โ๏ธ ะัะปะธ ะฝะต ัะดะฐัััั ัะณะตะฝะตัะธัะพะฒะฐัั ะฝะพะฒะพะต ัะฝะธะบะฐะปัะฝะพะต ัะพะพะฑัะตะฝะธะต โ ะปะพะณะธััะตััั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต
- ๐ฉ ะะฐะถะดัะน ะพัะฟัะฐะฒะปะตะฝะฝัะน ัะตะบัั โ ะพัะธะณะธะฝะฐะปัะฝัะน, ะฒ ะฟัะตะดะตะปะฐั ะทะฐะดะฐะฝะฝัั ัะฐะฑะปะพะฝะพะฒ
